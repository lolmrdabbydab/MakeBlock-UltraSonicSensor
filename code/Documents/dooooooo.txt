 from megapi import *

# -=Movement=-
def Forward(port):
	sleep(0.4);
	bot.encoderMotorMove(port,100,-1000, Backward);

def Backward(port):
	sleep(0.4);
	print("Running Backward")
	bot.encoderMotorMove(port,100,1000, Forward);

# -=UltrasonicSensor=-
def UltraSonic(distance):
	print("distance:"+str(distance)+" cm");
	return int(distance)

# -=Main=-
if __name__ == '__main__':
	bot = MegaPi()
	bot.start()
	bot.encoderMotorRun(1,0);
	sleep(1);
	while True:
		Forward(1, 2);
		if UltraSonic() < 20:
			for i in range(5):
				Foward(1)
